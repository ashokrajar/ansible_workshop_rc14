RootConf 2014 - Ansible with Puppet at Scale
============================================

[RootConf 2014 - Ansible with Puppet at Scale](https://funnel.hasgeek.com/rootconf2014/1121-ansible-with-puppet-at-scale)

There are 2 Vagrantfiles currently.

1st one is a simple demo of how to use vagrant with ansible. Copy Vagrantfile_sudoers to Vagrantfile

2nd one has 3 machines in them so you need to make sure you first bring up all machines and then run provision. Copy Vagrantfile_webservers to Vagrantfile

1. vagrant up --no-provision ( No ansible will be run as a result of this command )
2. vagrant provision ( Now ansible kicks in ) .

Make sure the Vagrantfile is one folder above the ansible folder

ls  -lh
total 40
-rw-r--r--   1 Madhurranjan  Group 675B May 14 23:24 Vagrantfile
drwxr-xr-x  20 Madhurranjan  Group 680B May 14 23:28 ansible_workshop_rc14
-rw-r--r--   1 Madhurranjan  Group 81B May 14 21:15 vagrant_ansible_inventory_default
-rw-r--r--   1 Madhurranjan  Group 82B May 14 22:41 vagrant_ansible_inventory_machine1
-rw-r--r--   1 Madhurranjan  Group 82B May 14 22:41 vagrant_ansible_inventory_machine2
-rw-r--r--   1 Madhurranjan  Group 82B May 14 22:42 vagrant_ansible_inventory_machine3

vagrant up --no-provision
Bringing machine 'machine1' up with 'virtualbox' provider...
Bringing machine 'machine2' up with 'virtualbox' provider...
Bringing machine 'machine3' up with 'virtualbox' provider...
[machine1] Importing base box 'centos'...
[machine1] Matching MAC address for NAT networking...
[machine1] Setting the name of the VM...
[machine1] Clearing any previously set forwarded ports...
[machine1] Clearing any previously set network interfaces...
[machine1] Preparing network interfaces based on configuration...
[machine1] Forwarding ports...
[machine1] -- 22 => 2222 (adapter 1)
[machine1] -- 80 => 8080 (adapter 1)
[machine1] Booting VM...
[machine1] Waiting for machine to boot. This may take a few minutes...
[machine1] Machine booted and ready!
[machine1] Setting hostname...
[machine1] Configuring and enabling network interfaces...
[machine1] Mounting shared folders...
[machine1] -- /vagrant
[machine2] Importing base box 'centos'...
[machine2] Matching MAC address for NAT networking...
[machine2] Setting the name of the VM...
[machine2] Clearing any previously set forwarded ports...
[machine2] Fixed port collision for 22 => 2222. Now on port 2200.
[machine2] Clearing any previously set network interfaces...
[machine2] Preparing network interfaces based on configuration...
[machine2] Forwarding ports...
[machine2] -- 22 => 2200 (adapter 1)
[machine2] -- 80 => 8081 (adapter 1)
[machine2] Booting VM...
[machine2] Waiting for machine to boot. This may take a few minutes...
[machine2] Machine booted and ready!
[machine2] Setting hostname...
[machine2] Configuring and enabling network interfaces...
[machine2] Mounting shared folders...
[machine2] -- /vagrant
[machine3] Importing base box 'centos'...
[machine3] Matching MAC address for NAT networking...
[machine3] Setting the name of the VM...
[machine3] Clearing any previously set forwarded ports...
[machine3] Fixed port collision for 22 => 2200. Now on port 2201.
[machine3] Clearing any previously set network interfaces...
[machine3] Preparing network interfaces based on configuration...
[machine3] Forwarding ports...
[machine3] -- 22 => 2201 (adapter 1)
[machine3] -- 80 => 8082 (adapter 1)
[machine3] Booting VM...
[machine3] Waiting for machine to boot. This may take a few minutes...
[machine3] Machine booted and ready!
[machine3] Setting hostname...
[machine3] Configuring and enabling network interfaces...
[machine3] Mounting shared folders...
[machine3] -- /vagrant

